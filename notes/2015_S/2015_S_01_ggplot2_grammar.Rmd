---
title: "Flexible, Beautiful, Customizable Graphs"
author: "Kyle Nickodem"
date: "Monday, February 2nd, 2015"
output: html_document
subtitle: Understanding ggplot2's Grammar
---

## Take Home Points

1. Become aware of the various components that comprise a graph
2. Understand how ggplot2 uses these components to construct a plot

## What is this graphic trying to tell us?
![Imgur](http://i.imgur.com/q5UAEV2.png)


## The Grammar of Graphics
Why is it necessary to understand the grammar?

1. ggplot2 operates using this grammar
2. It provides us with a process to think about the structure that underlies statistical grapics

##
![Imgur](http://i.imgur.com/aLOMwJ0.png)

- Data and asthetic mapping
- Geometric objects
- Scales and coordinate system
- Plot annotations and themes

##
![Imgur](http://i.imgur.com/IDAnlcF.png)

## How does this work in ggplot2?

```{r}
library(ggplot2)
head(diamonds)
```


##
```{r}
ggplot(data=diamonds, aes(x = carat, y = price)) +
  geom_point()
```

##
```{r, eval=FALSE}
ggplot(data=diamonds, aes(x = carat, y = price)) +
  geom_point()
```

```{r, eval=FALSE}
ggplot() +
  layer(data = diamonds, mapping = aes(x = carat, y = price), 
                 geom = "point", stat = "identity", pos = "identity") + 
  scale_x_continuous() + 
  scale_y_continuous() + 
  coord_cartesian() +
  theme()
```

```{r, eval=FALSE}
ggplot(diamonds, aes(carat,price)) +
  geom_point()
```

## Quiz Time
What will this plot look like?

```{r, eval=FALSE}
ggplot(data = diamonds, aes(x = price)) + 
  geom_histogram()

```

##
```{r, message=FALSE}
ggplot(data = diamonds, aes(x = price)) + 
  geom_histogram()

```

## Customize with color
```{r}
ggplot(data=diamonds, aes(x = carat, y = price, color = color)) +
  geom_point()
```

## Add additional geometric objects
```{r}
ggplot(data=diamonds, aes(x = carat, y = price, color = color)) +
  geom_point() + geom_smooth(method = "lm")
```

## Adjust your scales
```{r}
ggplot(data=diamonds, aes(x = carat, y = price, color = color)) +
  geom_point() + geom_smooth(method = "lm") +
  scale_y_log10() + scale_x_log10()
```

## Alter the theme
```{r}
ggplot(data=diamonds, aes(x = carat, y = price, color = color)) +
  geom_point() + geom_smooth(method = "lm") +
  scale_y_log10() + scale_x_log10() +
  theme_bw()
```

## Resources
- Hadley's ggplot2 documentation - [docs.ggplot2.org](http://docs.ggplot2.org/current/)
- [R Graphics Cookbook](http://www.cookbook-r.com/Graphs/)
- Wilkinson, L. (2006). *The grammar of graphics*. Springer - Available for free from through the UM Library portal.

